local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- üõ† H√†m t·∫°o ESP + Hitbox cho m·ªôt ng∆∞·ªùi ch∆°i
local function createESP(player)
    if player == Players.LocalPlayer then return end  -- Kh√¥ng √°p d·ª•ng cho ch√≠nh m√¨nh
    local character = player.Character
    if not character then return end

    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end

    -- üìå **Hi·ªÉn th·ªã t√™n tr√™n ƒë·∫ßu**
    local Billboard = Instance.new("BillboardGui")
    Billboard.Adornee = humanoidRootPart
    Billboard.Size = UDim2.new(0, 200, 0, 50)
    Billboard.StudsOffset = Vector3.new(0, 2, 0)
    Billboard.AlwaysOnTop = true

    local TextLabel = Instance.new("TextLabel", Billboard)
    TextLabel.Size = UDim2.new(1, 0, 1, 0)
    TextLabel.BackgroundTransparency = 1
    TextLabel.Text = player.Name
    TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)  -- M√†u ƒë·ªè
    TextLabel.TextScaled = true

    Billboard.Parent = humanoidRootPart

    -- üìå **M·ªü r·ªông Hitbox (C·∫≠p nh·∫≠t li√™n t·ª•c)**
    task.spawn(function()
        while character and character.Parent do
            humanoidRootPart.Size = Vector3.new(10, 10, 10)  -- K√≠ch th∆∞·ªõc l·ªõn h∆°n
            humanoidRootPart.Transparency = 0.7  -- L√†m trong su·ªët nh·∫π
            humanoidRootPart.CanCollide = false  -- Tr√°nh va ch·∫°m l·ªói
            wait(1)  -- C·∫≠p nh·∫≠t hitbox m·ªói gi√¢y
        end
    end)

    -- üìå **T·∫°o hi·ªáu ·ª©ng ph√°t s√°ng (Highlight)**
    local highlight = Instance.new("Highlight")
    highlight.Parent = character
    highlight.FillColor = Color3.fromRGB(0, 255, 0)  -- M√†u xanh l√°
    highlight.FillTransparency = 0.5
    highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
    highlight.OutlineTransparency = 0.1
end

-- üõ† √Åp d·ª•ng ESP + Hitbox cho t·∫•t c·∫£ ng∆∞·ªùi ch∆°i ƒë√£ v√†o tr∆∞·ªõc
for _, player in pairs(Players:GetPlayers()) do
    if player.Character then
        createESP(player)  -- Th√™m ESP ngay l·∫≠p t·ª©c
    end
end

-- üõ† Khi m·ªôt ng∆∞·ªùi ch∆°i m·ªõi v√†o game, √°p d·ª•ng ESP
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        wait(1)  -- Ch·ªù nh√¢n v·∫≠t load xong
        createESP(player)
    end)
end)
