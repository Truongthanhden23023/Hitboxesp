--// Cấu hình (có thể chỉnh sửa)
local HitboxSize = Vector3.new(5, 7, 5) -- Kích thước hitbox (X, Y, Z)
local ESPColor1 = Color3.fromRGB(255, 0, 0) -- Màu 1 (Đỏ)
local ESPColor2 = Color3.fromRGB(0, 255, 0) -- Màu 2 (Xanh)
local ChangeColorTime = 1 -- Thời gian đổi màu (giây)

--// Hàm tạo ESP và Hitbox
function ApplyESPandHitbox(player)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")

        -- Tạo Hitbox (nếu chưa có)
        local hitbox = rootPart:FindFirstChild("HitboxESP")
        if not hitbox then
            hitbox = Instance.new("BoxHandleAdornment")
            hitbox.Name = "HitboxESP"
            hitbox.Adornee = rootPart
            hitbox.Size = HitboxSize
            hitbox.Color3 = ESPColor1
            hitbox.AlwaysOnTop = true
            hitbox.ZIndex = 10
            hitbox.Parent = game.CoreGui
        end

        -- Đổi màu ESP liên tục
        spawn(function()
            while hitbox and hitbox.Parent do
                hitbox.Color3 = ESPColor1
                wait(ChangeColorTime)
                hitbox.Color3 = ESPColor2
                wait(ChangeColorTime)
            end
        end)
    end
end

--// Áp dụng cho tất cả người chơi hiện tại
for _, player in pairs(game.Players:GetPlayers()) do
    ApplyESPandHitbox(player)
end

--// Theo dõi người chơi mới vào
game.Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        wait(1) -- Đợi nhân vật load
        ApplyESPandHitbox(player)
    end)
end)
