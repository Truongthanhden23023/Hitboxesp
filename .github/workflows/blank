local hitboxSize = 20 -- Kích thước mặc định của Hitbox

-- Hàm cập nhật Hitbox
local function updateHitbox()
    for _, player in pairs(game:GetService("Players"):GetPlayers()) do
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.Size = Vector3.new(hitboxSize, hitboxSize, hitboxSize)
            player.Character.HumanoidRootPart.Transparency = 0.5
        end
    end
    print("Hitbox Updated:", hitboxSize)
end

-- Hàm tạo ESP
local function createESP(player)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local esp = Instance.new("BoxHandleAdornment")
        esp.Size = Vector3.new(hitboxSize, hitboxSize, hitboxSize)
        esp.Adornee = player.Character.HumanoidRootPart
        esp.Color3 = Color3.new(1, 0, 0) -- Màu đỏ cố định
        esp.AlwaysOnTop = true
        esp.ZIndex = 10
        esp.Parent = game.CoreGui
    end
end

-- Nút tăng Hitbox
Tab:CreateButton({
   Name = "Tăng Hitbox",
   Callback = function()
       hitboxSize = math.min(50, hitboxSize + 5) -- Giới hạn tối đa 50
       updateHitbox()
   end
})

-- Nút giảm Hitbox
Tab:CreateButton({
   Name = "Giảm Hitbox",
   Callback = function()
       hitboxSize = math.max(5, hitboxSize - 5) -- Giới hạn tối thiểu 5
       updateHitbox()
   end
})

-- Cập nhật ESP cho tất cả người chơi hiện tại
for _, player in pairs(game:GetService("Players"):GetPlayers()) do
    createESP(player)
end

-- Tạo ESP khi có người chơi mới vào
game:GetService("Players").PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        createESP(player)
    end)
end)
